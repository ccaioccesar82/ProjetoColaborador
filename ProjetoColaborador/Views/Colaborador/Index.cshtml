@model ProjetoColaborador.Models.Entities.Colaborador;
@using ProjetoColaborador.Models.Entities


@{
	IList<Colaborador>? colaboradores = ViewData["ColaboradoresLista"] as IList<Colaborador>;

	IList<Colaborador>? colaboradoresFiltrados = ViewData["ColaboradorFiltrado"] as IList<Colaborador>;

}
<div id="container">

	<button id="create-btn" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter" onclick= openModal()>
		Criar colaborador
	</button>

	<form asp-action="SearchByName" method="post">
		<div class="input-group">
			<input type="search" name="name" class="form-control rounded" placeholder="Escreva o nome completo do colaborador" aria-label="Search" aria-describedby="search-addon" />
			<button type="submit" class="btn btn-outline-primary" data-mdb-ripple-init>Buscar</button>
		</div>
	</form>


</div>


<table id="tabela-colaborador" class="table table-striped table-hover">
	<thead>
		<tr>
			<th>
				Nome
			</th>
			<th>
				Email
			</th>
			<th>
				Telefone
			</th>
			<th>Cargo</th>
		</tr>

	</thead>

	<tbody>

		@{
			if (colaboradoresFiltrados != null)
			{

				foreach (var item in colaboradoresFiltrados)
				{
					<tr onclick=openModal()>
						<td>
							@Html.DisplayFor(Model => item.Name)
						</td>
						<td>
							@Html.DisplayFor(Model => item.Email)
						</td>
						<td>
							@Html.DisplayFor(Model => item.Telefone)
						</td>
						<td>
							@Html.DisplayFor(Model => item.CargoId)
						</td>

					</tr>

				}

			}
			
			else
			{

				if (colaboradores != null)
				{

					foreach (var item in colaboradores)
					{
						<tr onclick=openModal()>
							<td>
								@Html.DisplayFor(Model => item.Name)
							</td>
							<td>
								@Html.DisplayFor(Model => item.Email)
							</td>
							<td>
								@Html.DisplayFor(Model => item.Telefone)
							</td>
							<td>
								@Html.DisplayFor(Model => item.CargoId)
							</td>

						</tr>

					}
				}
			
			}

		}
	</tbody>
	</table>


	<dialog id="caixa-modal">
	<form asp-action="Create" method="post">
		<label>Nome:</label>
		<input id="input-texto" type="text" asp-for="Name"/>

		<label>Email</label>
		<input id="input-texto" type="email" asp-for="Email"/>

		<label>Telefone</label>
		<input id="input-texto"  type="text" asp-for="Telefone"/>
		<label id="label-cargo">Cargo desempenhado: </label>

		<br>

		<input type="radio" name="CargoId" value="0"> Programador<br>

		<input type="radio" name="CargoId" value="1"> Designer<br>

		<input type="radio" name="CargoId" value="2"> Comercial<br>

		<input type="radio" name="CargoId" value="3"> TechLeader<br>

		<br>


		<button id="btn-editar" type="submit">Criar</button>
	</form>
	</dialog>